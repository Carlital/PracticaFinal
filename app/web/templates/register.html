<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro - Centro Deportivo</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1>Registro</h1>

    <form method="POST" action="/register" class="card">

      <label>Nombre</label>
      <input type="text" name="nombre" required minlength="3" maxlength="60"
             pattern="^[A-Za-z ]{3,60}"
             title="Ingresa solo letras y espacios. Mínimo 3 caracteres."
             oninvalid="this.setCustomValidity('Nombre inválido: usa solo letras y espacios (mín. 3 caracteres).')"
             oninput="this.setCustomValidity('')"
             autocomplete="name" />

      <label>Email</label>
      <input type="email" name="email" required
             pattern="[^@\s]+@[^@\s]+\.[^@\s]+"
             title="Correo inválido. Ejemplo: usuario@dominio.com"
             oninvalid="this.setCustomValidity('Correo inválido. Ejemplo: usuario@dominio.com')"
             oninput="this.setCustomValidity('')"
             autocomplete="email" />

      <label>Contraseña</label>
      <input type="password" name="password" required minlength="8" maxlength="64"
             pattern="^(?=.*[A-Za-z])(?=.*\d)[^\s]{8,64}"
             title="Mínimo 8 caracteres, al menos 1 letra y 1 número. Sin espacios."
             oninvalid="this.setCustomValidity('Contraseña inválida: mínimo 8 caracteres, al menos 1 letra y 1 número, sin espacios.')"
             oninput="this.setCustomValidity('')"
             autocomplete="new-password" />

      <label>Rol</label>
      <select name="rol" required
              oninvalid="this.setCustomValidity('Selecciona un rol para continuar.')"
              oninput="this.setCustomValidity('')">
        <option value="" selected disabled>-- Selecciona un rol --</option>
        <option value="usuario">Usuario</option>
        <option value="admin">Administrador</option>
      </select>

      <button type="submit">Crear cuenta</button>
      <p class="message">$message</p>
    </form>

    <p>¿Ya tienes cuenta? <a href="/login">Ingresar</a></p>
  </div>
</body>
</html>
